{"openapi":"3.1.0","info":{"title":"MoJoAssistant MCP Service","description":"Memory Communication Protocol API for MoJoAssistant","version":"1.0.0"},"paths":{"/health":{"get":{"summary":"Health Check","description":"Health check endpoint","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}}}}},"/info":{"get":{"summary":"Service Info","description":"Service information endpoint","operationId":"service_info_info_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/memory/context":{"post":{"summary":"Get Memory Context","description":"Retrieve relevant context for a query","operationId":"get_memory_context_api_v1_memory_context_post","parameters":[{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContextQuery"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContextResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/memory/stats":{"get":{"summary":"Get Memory Stats","description":"Get comprehensive memory system statistics","operationId":"get_memory_stats_api_v1_memory_stats_get","parameters":[{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/knowledge/documents":{"post":{"summary":"Add Documents","description":"Add documents to the knowledge base","operationId":"add_documents_api_v1_knowledge_documents_post","parameters":[{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentsInput"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"summary":"List Documents","description":"List documents in knowledge base","operationId":"list_documents_api_v1_knowledge_documents_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/conversation/message":{"post":{"summary":"Add Conversation Message","description":"Add a message to the conversation","operationId":"add_conversation_message_api_v1_conversation_message_post","parameters":[{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConversationMessage"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/conversation/end":{"post":{"summary":"End Conversation","description":"End current conversation and archive to memory","operationId":"end_conversation_api_v1_conversation_end_post","parameters":[{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/conversation/current":{"get":{"summary":"Get Current Conversation","description":"Get current conversation state","operationId":"get_current_conversation_api_v1_conversation_current_get","parameters":[{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/models":{"get":{"summary":"List Embedding Models","description":"List available embedding models","operationId":"list_embedding_models_api_v1_embeddings_models_get","parameters":[{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/switch":{"post":{"summary":"Switch Embedding Model","description":"Switch embedding model","operationId":"switch_embedding_model_api_v1_embeddings_switch_post","parameters":[{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModelSwitchRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"ContextItem":{"properties":{"content":{"type":"string","title":"Content"},"source":{"type":"string","title":"Source"},"relevance_score":{"type":"number","title":"Relevance Score"},"timestamp":{"type":"string","title":"Timestamp"},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata","default":{}}},"type":"object","required":["content","source","relevance_score","timestamp"],"title":"ContextItem"},"ContextQuery":{"properties":{"query":{"type":"string","title":"Query","description":"Query to search for relevant context"},"max_items":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Max Items","description":"Maximum number of context items","default":10},"include_sources":{"type":"boolean","title":"Include Sources","description":"Include source information","default":true}},"type":"object","required":["query"],"title":"ContextQuery"},"ContextResponse":{"properties":{"query":{"type":"string","title":"Query"},"context_items":{"items":{"$ref":"#/components/schemas/ContextItem"},"type":"array","title":"Context Items"},"total_items":{"type":"integer","title":"Total Items"},"processing_time_ms":{"type":"number","title":"Processing Time Ms"}},"type":"object","required":["query","context_items","total_items","processing_time_ms"],"title":"ContextResponse"},"ConversationMessage":{"properties":{"type":{"type":"string","pattern":"^(user|assistant)$","title":"Type","description":"Message type"},"content":{"type":"string","title":"Content","description":"Message content"},"context_query":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Context Query","description":"Optional query for context retrieval"}},"type":"object","required":["type","content"],"title":"ConversationMessage"},"DocumentInput":{"properties":{"content":{"type":"string","title":"Content","description":"Document content"},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata","description":"Document metadata"}},"type":"object","required":["content"],"title":"DocumentInput"},"DocumentResponse":{"properties":{"document_id":{"type":"string","title":"Document Id"},"status":{"type":"string","title":"Status"},"message":{"type":"string","title":"Message"}},"type":"object","required":["document_id","status","message"],"title":"DocumentResponse"},"DocumentsInput":{"properties":{"documents":{"items":{"$ref":"#/components/schemas/DocumentInput"},"type":"array","title":"Documents","description":"List of documents to add"}},"type":"object","required":["documents"],"title":"DocumentsInput"},"DocumentsResponse":{"properties":{"results":{"items":{"$ref":"#/components/schemas/DocumentResponse"},"type":"array","title":"Results"},"total_processed":{"type":"integer","title":"Total Processed"},"processing_time_ms":{"type":"number","title":"Processing Time Ms"}},"type":"object","required":["results","total_processed","processing_time_ms"],"title":"DocumentsResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthResponse":{"properties":{"status":{"type":"string","title":"Status"},"version":{"type":"string","title":"Version"},"timestamp":{"type":"string","title":"Timestamp"},"components":{"additionalProperties":{"type":"string"},"type":"object","title":"Components"}},"type":"object","required":["status","version","timestamp","components"],"title":"HealthResponse"},"MessageResponse":{"properties":{"message_id":{"type":"string","title":"Message Id"},"status":{"type":"string","title":"Status"},"context_items":{"anyOf":[{"items":{"$ref":"#/components/schemas/ContextItem"},"type":"array"},{"type":"null"}],"title":"Context Items"}},"type":"object","required":["message_id","status"],"title":"MessageResponse"},"ModelSwitchRequest":{"properties":{"model_name":{"type":"string","title":"Model Name","description":"Model name to switch to"},"backend":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Backend","description":"Backend type"}},"type":"object","required":["model_name"],"title":"ModelSwitchRequest"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}